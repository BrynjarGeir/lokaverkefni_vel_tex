\documentclass[a4paper,12pt,twoside,BCOR=10mm]{scrbook}

% UoI MSc thesis template (English) V2.0.4 25.4.2022

% The license of this template is not fully clear, but: This template
% version is based on an earlier LaTeX template that was once available
% on a SENS UGLA page where the author and license are unknown.  As
% that version has obviously been put once online with the intend to be
% used by students, providing and using it should not be problem.

% Helmut Neukirchen https://uni.hi.is/helmut updated that earlier
% template using a tikzpicture-based approach for the title page
% created by Þór Arnar Curtis.

% The included logos are very likely copyrighted by the University of
% Iceland, but
% https://zeroheight.com/1b323cfd9/p/20f1e6-theses/b/29a61a
% states that the document is intended to make it easier for
% students, staff, and print-shops to format the thesis and ensure a
% standardised appearance. So providing them here and using them
% should be legal.


% Search below for "MODIFY THESE LINES ONLY": there you can enter your name, thesis title, etc.

% BibLaTeX is assumed for references. While Overleaf does this
% automatically for you, if you run it locally on the commandline,
% then you need to run first pdflatex MSc.tex, then biber MSc (without
% the .tex extension), and then again pdflatex MSc.tex


% Packages
% BETRI TÖFLUR OG LISTAR
\usepackage{booktabs}         % Fyrir betri töflur
\usepackage{caption}          % M.a. aukabil á undan töflufyrirsögnum
\captionsetup{font=small,   % Smærra letur á mynda- og töflutexta,
              labelfont=bf, % "Mynd 1" og "Tafla 2" feitletrað 
              margin=2cm,
              skip = 0.5\baselineskip} 
\usepackage[utf8]{inputenc}
\usepackage[icelandic, english]{babel}
\usepackage{t1enc}
\usepackage{graphicx}
\usepackage[intoc]{nomencl}
\usepackage{enumerate,color}
\usepackage{url}
\usepackage[pdfborder={0 0 0}]{hyperref}
\BeforeTOCHead[toc]{\cleardoublepage\pdfbookmark{\contentsname}{toc}} % Add Table of Contents to PDF "bookmark" table of contents
\usepackage{appendix}
\usepackage{eso-pic}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{subcaption}
%\usepackage[sf,normalsize]{subfigure}
\usepackage[format=plain,labelformat=simple,labelsep=colon]{caption}
\usepackage{placeins}
%\usepackage{tabularx}
\usepackage{enumitem}
\usepackage{listings}
\usepackage{xspace}
\usepackage{float}
\usepackage{caption}
% Packages used for title page layout
\usepackage{xcolor}
\usepackage{tikz}
\usepackage{arydshln}
\usepackage{acronym}
\usetikzlibrary{positioning}
\pgfkeys{/pgf/number format/.cd,fixed,precision=2}

% https://tex.stackexchange.com/questions/374661/keyword-highlighting-not-working-in-python-with-listings
\lstdefinestyle{Python}{
    language        = Python,
    basicstyle      = \ttfamily,
    keywordstyle    = \color{blue},
    keywordstyle    = [2] \color{teal}, % just to check that it works
    stringstyle     = \color{green},
    commentstyle    = \color{red}\ttfamily
}

\input{variables.tex}

% Blue color according to HÍ corporate design
\convertcolorspec{RGB}{16,9,159}{rgb}\tmphiblue
\definecolor{hiblue}{rgb}\tmphiblue


\setlength{\parskip}{\baselineskip}
\setlength{\parindent}{0cm}
\raggedbottom

\setkomafont{captionlabel}{\itshape}
\setkomafont{caption}{\itshape}
\setkomafont{section}{\FloatBarrier\Large}
\setcapwidth{\textwidth}
%\setcapwidth[l]{\textwidth} % The original template had the [l] which leads to a warning that it gets ignored, so to reduce warnings, removed it.
\setcapindent{1em}


\usepackage{lmodern} % Use Latin Modern (instead of the default Computer Modern that is rendered using a bitmap font).
\usepackage{fixcmex} % To fix that Latin Modern large symbol math fonts has by default only one size: https://tex.stackexchange.com/a/621536
% Times new roman font instead of the standard LaTeX fonts: has not been test -- try this on your own risk
%\usepackage[T1]{fontenc}
%\usepackage{mathptmx}

%%%%%%%%%%%%%%%%% Configurations (Useful defaults, but OK to change %%%%%%%%%%%%%%%%%%%
\graphicspath{{figs/}} % Figures in directory figs

% Bibliography

% \usepackage[sort&compress,authoryear]{natbib} % Uncoment if you want to used NatBib instead of BibLaTeX (and comment the bitlatex line below)

\usepackage{biblatex}  % BibLaTeX used for references. 
\usepackage{csquotes} % BibLaTex wants to have context sensitive quotes
\addbibresource{references.bib} %  Name of *.bib file containing references


%%%%%%%%%%% MODIFY THESE LINES ONLY %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Some note on advisor(s) vs. thesis committee: At the School of
% Engineering and Natural Sciences, according to Regulation
% no. 994-2017
% https://english.hi.is/university_school_of_engineering_and_natural_sciences/regulation_no_994_2017_on_masters_study_at
% Article 5., a student has an administrative supervisor who is
% typically also the academic supervisor, i.e. supervising the thesis.
% If someone from outside is supervising, than the person becomes the
% academic supervisor and you have in addition the administrative
% supervisor from within HÍ.
% In addition, according to Article 7., there is a Master's degree
% committee that includes at least two persons, one of which shall be
% the student’s administrative supervisor.
% Despite these formally defined roles, it is somewhat a matter of
% taste whether you list all persons as supervisors or all as just
% thesis committee or list the one single academic supervisor as
% supervisor and then all persons (repeating the supervisor's name)
% as thesis committee.
% In the settings, that follow here, you can set this and many other settings.

\def\thesisyear{2025}       					% Year thesis submitted
\def\thesismonth{June}					% Month thesis submitted, e.g. "December"
\def\thesisauthor{Brynjar Geir Sigurðsson}				% Thesis authoreiningaraðferðinni
\def\thesistitle{A Neural Network Approach to Predicting Gust Factors in Complex Landscape} % Title of thesis
%\def\thesissubtitle{XXSubtitle is rarely usedXX}		% Subtitle of thesis (optional)
\def\thesisshorttitle{} 	% Optional: if title of thesis is longer than 50 characters, it would not fit on the spine (kjölur) and in this case you, need to provide a short title here for the print shop. Otherwhise: make it empty
\def\thesiscredits{60} 						% Credits awarded for the project
\def\thesissubject{Mechanical Engineering}
\def\thesiskind{M.Sc.}					% E.g. M.Sc. or Ph.D. thesis
\def\thesiskindformal{CCMagister Scientiarum}			% E.g. Magister Scientiarum
\def\thesisschool{School of Engineering and {Natural Sciences}}		% School
\def\thesisfaculty{Industrial Engineering, Mechanical Engineering and Computer Science}% Faculty name without "Faculty of" (gets added) 
\def\thesisaddress{Dunhagi 5}			        % Faculty or school office address street
\def\thesispostalcode{107}			                % Faculty or school office zip code
\def\thesistelephone{525 4000}					% Office telephone
%\def\thesispublisher{XX}					% Publisher (not used)
\def\thesissupervisors{Kristján Jónasson}					% Names of supervisors (split by \\ if more than one).
\def\thesisnrofsupervisors{1}					% Number of supervisors (to use "Supervisor" vs. "Supervisors")
\def\thesiscommittee{Kristján Jónasson \\ Ólafur Pétur Pálsson \\ Guðrún Nína Petersen}			% Thesis commitee must include the supervisor(s)
\def\thesisexaminer{XXNN3XX}				        % Examiner (prófdómari)
\def\thesisISBN{}           					% Thesis ISBN number (keep empty: not used anymore)
\def\thesisprinting{}						% Name of printsthop (keep empty if thesis is never printed)
%\def\thesisprinting{Háskólaprent, Fálkagata 2, 107 Reykjavík}	% Name of printsthop (keep empty if thesis is never printed)
\def\thesislicense{This thesis may not be copied in any form without author permission.} % Set license here (could also be some Creative Commons license)
%\def\thesiskeywords{Keyword1, Keyword2, Keyword3}		% Keywords (not used anywhere, hence commented out)

%%%%%%%%%%% STOP MODIFYING HERE %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%% Next modifications: search for "START MODIFYING HERE AGAIN" below %%%%%%%%%%

% We need this command if someone used \\ in the thesis title
\newcommand{\removelinebreaks}[1]{%
  \begingroup\def\\{}#1\endgroup}

% To be able to use units in equations. From https://qerub.se/typesetting-units-in-latex
\newcommand{\unit}[1]{\ensuremath{\, \mathrm{#1}}}

\begin{document}
\hypersetup{pageanchor=false}
\pagenumbering{Alph} % To prevent page numer "1" to be used multiple times, used "A", "B", etc. for the first pages
\begin{titlepage} % This titlepage environment spans in fact multiple pages

% This must be placed after "\begin{document}":
\lstset{
    frame       = single,
    numbers     = left,
    showspaces  = false,
    showstringspaces    = false,
    captionpos  = t,
    caption     = \lstname
}

% This is the cover title page. If you go to a print shop, they will
% ignore it and create their own cover page, i.e. this cover page here
% is only used by the PDF version that gets electronically archived.

  \thispagestyle{empty}
  
  % The banner at top and bottom (using a tikz overlay)
  \begin{tikzpicture}[remember picture,overlay]
    \node[anchor=north west, inner sep=0pt] at (current page.north west)
        {\includegraphics[width=\paperwidth]{banner}}; % The top banner (as a PNG) % TODO: A vector graphic would be better

    \node(bottom)[shape=rectangle, fill=hiblue, minimum height=10mm, minimum width=\paperwidth, anchor=south west] at (current page.south west) {}; % The bottom banner (a filled rectangle)

    \node[above=0.4cm of bottom] {
        \begin{tabular}{c} 
          \sffamily \small \textcolor{hiblue}{\textbf{\MakeUppercase{Faculty of \thesisfaculty{}}}}
        \end{tabular}
    };
  \end{tikzpicture}

  \enlargethispage{3cm}
  \vspace*{3.5cm} % Here starts the white space below the top banner
  
  % The centering used below is with respect to the page margins which
  % are not the same on left and right which prevents proper centering
  % with respect to the tikz centering (and the title page in
  % general).  Instead, we use a minipage that we shift horizontally
  % by 2.6 cm.  But minipage sets \parskip to 0, so we need to save
  % and restore it.  To be able to use vfill/stretch in a minipage,
  % the height needs to be specified: 20.0 cm.
  \newlength{\currentparskip}
  \setlength{\currentparskip}{\parskip}
  \hspace*{-2.6cm}
  \begin{minipage}[t][20.0cm]{1.0\paperwidth}
    \setlength{\parskip}{\currentparskip}
    \begin{center}
      \vspace*{ \stretch{1.5} }
      \huge \sffamily \bfseries \thesistitle{}
    
      %\normalfont \LARGE \sffamily \thesissubtitle{}

      \vspace{ \stretch{1.0} }
      \normalfont \Large \sffamily \thesisauthor{}

      \vspace*{ \stretch{2.75} }

      \thesismonth{}~\thesisyear{} % E.g. "March 2022"

      \vspace{ \stretch{0.5} }
    
      \normalfont \Large \sffamily {\thesiskind{}~thesis \\
      in \thesissubject{}}

      \vspace*{ \stretch{1.0} }
    \end{center}
  \end{minipage}

  \newpage

  \thispagestyle{empty} \mbox{} % This is the inside page of the cover (cover verso) which remains empty

  \newpage


  \thispagestyle{empty} % This is the inner title page
  \begin{center}
    \vspace*{ \stretch{0.5} }

    \Large \sffamily \bfseries \thesistitle{}
    
    %\normalfont \large \sffamily \thesissubtitle{}

    \vspace*{ \stretch{1.0} }

    \sffamily{\thesisauthor{}}
    
    \vspace*{ \stretch{1.0} }
    \normalsize \thesiscredits{}~ECTS thesis submitted in partial fulfillment of a \\
    \textit{\thesiskindformal{}} degree in \thesissubject{}
    \large
    
    \ifx\thesissupervisors\empty % Only print supervisor part if supervisor names are not empty
    \else
      \vspace*{ \stretch{1.0} }
      \ifnum\thesisnrofsupervisors>1 Supervisors \\
      \else Supervisor \\
      \fi
      \thesissupervisors{}
    \fi  

    \ifx\thesiscommittee\empty % Only print thesis committee part if committee names are not empty
    \else
      \vspace*{ \stretch{0.25} }
      \thesiskind{}~Committee\\
      \thesiscommittee{}
    \fi
      
    \ifx\thesisexaminer\empty % Only print examiner part if thesisexaminer is not empty
    \else
      \vspace*{ \stretch{0.25} }
      Examiner \\
      \thesisexaminer
    \fi
      
    \vspace*{ \stretch{1.0} }

    Faculty of \thesisfaculty \\
    \thesisschool \\
    University of Iceland \\
    Reykjavik, \thesismonth~\thesisyear

    \vspace*{ \stretch{0.5} }
  \end{center}

  \newpage

  \thispagestyle{empty} % This is the title verso (colophon), i.e. imprint/copyright page
  \vspace*{\fill}
  % \setcounter{page}{0} \renewcommand{\baselinestretch}{1.5}\normalsize
  \sffamily{\removelinebreaks{\thesistitle}} \\
  \ifx\thesisshorttitle\empty % Show only if shorttitle is provided
  \else
  (\sffamily{\thesisshorttitle{}}) \\
  \fi
  %\sffamily{\removelinebreaks{\thesissubtitle{}}} \\

    
  \thesiscredits ~ECTS thesis submitted in partial fulfillment of a \thesiskind{}~degree in \thesissubject
\\ \\
  Faculty of \thesisfaculty \\
  \thesisschool \\
  University of Iceland \\
  \thesisaddress \\ 
  \thesispostalcode, Reykjavik 
  Iceland

  Telephone: \thesistelephone \\ \\ 
  \vspace*{\lineskip}

  Bibliographic information: \\
  \thesisauthor{} (\thesisyear{}) \emph{\removelinebreaks{\thesistitle{}}}, \thesiskind{}~thesis, Faculty of \thesisfaculty, University of Iceland.\\

  Copyright \textcopyright~\thesisyear~ \thesisauthor \\
  \thesislicense{}\\

  \ifx\thesisISBN\empty % Show only if ISBN is provided
  \else
  ISBN~\thesisISBN
  \fi
  
  \ifx\thesisprinting\empty % Show only if print shop is provided
  \else
  Printing: \thesisprinting \\
  \fi


  Reykjavik, Iceland, \thesismonth~\thesisyear \\
  
%%%%%%%%%%% START MODIFYING HERE AGAIN %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \newpage % Dedication page: remove completely if you have no dedication

  \thispagestyle{empty} \mbox{}

  \vfill

  \begin{center}
    \textit{
      To all the students who made the wise decision to use \LaTeX. % Replace this by your dedication
    }
  \end{center} \vspace*{5cm}

  \vfill 

%%%%%%%%%%%%%%%%%%%%%%%%% If you have no dedication: remove until here %%%%%%%%%%%%%%%%%%%%

\end{titlepage}

\cleardoublepage

\pagenumbering{roman} % Abstract page 

\setcounter{page}{5}

\setkomafont{section}{\huge} % The title "Abstract" and "Útdráttur" should look like the chapters, i.e. use \huge (\chapter cannot be used as this would create a new page)

\section*{Abstract}
In many industries, whether it be windmill farming or transportation, being able to precisely predict the load caused by weather is crucial to prevent harm coming to people and machinery as well as increasing productivity. The efficiency of wind turbines in high wind speed conditions is a vital challenge in optimizing renewable energy systems. Gust predictions can be instrumental in loss prevention. If looking only at wind, the most destructive moments are gusts, by definition. To predict these values there are two ways, traditional numerical weather prediction systems and machine learning or other pattern recognition systems. Computer aided numerical weather prediction systems originated in the 1950's, while the use of machine learning in numerical weather predictions is much more recent, having truly gained traction in the last decade. The goal of this thesis is try to combine these two methods to try and predict wind gust factor, where the gust factor is defined as the ratio between wind gust and average wind speed. This is done by having the input data to the machine learning model be reanalysis variables that were generated by traditional numerical weather prediction systems. In addition to these variables and derived variables, a digital elevation model (DEM) data was used. A deep neural network was constructed using some set of variables and the results are compared to a baseline as well as each other so as to show the impact each feature has.
\vfill \vspace*{1cm}

\section*{Útdráttur}
Í mörgum iðnuðum, hvort sem það er vindmyllubúgarður eða flutningar er getan til þess að spá fyrir um álag vegna veðurs mikilvæg til að koma í veg fyrir tjóns á vélum og byggingum ásamt því að koma í veg fyrir skaða á fólki. Einnig er hægt að auka framleiðni. Nýtni vindtúrbínna í hávinda aðstæðum er mikilvæg áskorun í bestun endurnýjanlega orkukerfisins. Hviðuspár geta verið stór þáttur í tjónaminnkun. Ef einungis er horft á vind, þá eru hviður hæsti álagspunktur út frá skilgreiningu. Sögulega hefur verið notast við hefðbundin spálíkön sem reiða sig á töluleg eðlisfræðileg líkön til að spá fyrir um niðurstöður. Á síðustu árum hefur gervigreind þróast mikið og líkön verið þjálfuð til þess að giska á veður. Svo miklar framfarir hafa orðið að sum líkön geta keppt við hefðbundin veðurlíkön. Markmið þessa verkefnis er reyna að nýta bæði hefðbundin veðurlíkön og gervigreind til þess að giska á hviðustuðla, þar sem hviðustuðullinn er skilgreindur sem hlutfall hæstu hviðu og meðalvinds. Þetta er gert með því að nota endurgreiningargögn úr hefðbundnu veðurlíkani sem grunngögn í gervigreindarlíkan. Einnig eru notað hæðarlíkan til að lýsa umhverfi. Djúpt tauganet var búið til með því að velja breytur úr endurgreiningargögnunum ásamt hæðarpunktum og afleiddum breytum. Þetta líkan er svo þjálfað og niðurstöður bornar saman við grunnlíkan sem og önnur líkön með öðrum breytum til að skoða áhrif breyta.
\vfill

\newpage % Empty page
\setkomafont{section}{\FloatBarrier\Large}
% The first "chapter" which will start on a new page
% Table of contents starts automatically on a right-hand side page ("recto").
% Table of contents, list of figures and tables are automatically generated by the commands below
\hypersetup{pageanchor=true}
\tableofcontents
\listoffigures
\listoftables
\lstlistoflistings

\chapter*{Abbreviations}
\addcontentsline{toc}{chapter}{Abbreviations}
\markboth{Abbreviations}{Abbreviations}
\begin{acronym}[GeoTIFF]
  \acro{API}{Application Programming Interface}
  \acro{ASL}{Above Sea Level}
  \acro{AWS}{Automatic Weather Stations}
  \acro{AWSL}{Average Wind Speed Limit}
  \acro{CARRA}{Copernicus Artic Regional ReAnalysis dataset}
  \acro{CNN}{Convolutional Neural Networks}
  \acro{DEM}{Digital Elevaiton Model}
  \acro{ELI5}{Explain Like I am 5}
  \acro{ECMWF}{European Centre for Medium-Range Weather Forecast}
  \acro{GCM}{General Circulation Model}
  \acro{GeoTIFF}{Georeferenced TIFF}
  \acro{GPU}{Graphical Processing Unit}
  \acro{HRES}{High Resolution forecas}
  \acro{IMO}{Icelandic Meteoroligcal Office}
  \acro{IRCA}{Icelandic Road and Coastal Administration}
  \acro{JNWPU}{Joint Numerical Weather Prediction Unit}
  \acro{LWM}{Large AI Weather forecast Model}
  \acro{MAE}{Mean Asbolute Error}
  \acro{MAPE}{Mean Absolute Percentage Error}
  \acro{NN}{Neural Network}
  \acro{NWP}{Numerical Weather Prediction}
  \acro{SENS}{School of Engineering and Natural Sciences}
  \acro{TIFF}{Tag Image File Format}
  \acro{UoI}{University of Iceland}
\end{acronym}

\chapter*{Acknowledgments}
\addcontentsline{toc}{chapter}{Acknowledgments}
Special thanks go to my advisor, Kristján Jónasson. He would help me with the actual work of the thesis and sit with go over the code with me. Thanks also go to Ólafur Pétur Pálsson, who would read over the thesis with notes and give helpful suggestions. Guðrún Nína Petersen, also provided valuable insight whenever questioned about meteoroligcal matters as well as giving notes on the thesis.

Finally, I would like to thank my parents without whom I would probably never had any want to finish.

\pagenumbering{arabic}
\setcounter{page}{1}

\include{Chapters/Chapter1}
\include{Chapters/Chapter2}
%\include{Chapters/Chapter3}
\include{Chapters/Chapter4}
\include{Chapters/Chapter5}
\include{Chapters/Chapter6}
\include{Appendicies/AppendixA}

\end{document}
